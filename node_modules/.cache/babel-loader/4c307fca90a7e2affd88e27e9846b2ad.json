{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";// // khởi tạo giá trị ban đầu\n// const stateGioHang = {\n//     gioHang : [{maSP: 1, tenSP: \"iphone\", soLuong: 1, hinhAnh: './img/applephone.jpg', giaBan: 1000,thanhTien: 1000}]\n// }\n// export const GioHangReducer = (state = stateGioHang, action) => {\n//     switch (action.type) {\n//         case 'THEM_GIO_HANG':{\n//          // xử lý logic thêm giỏ hàng\n//          let gioHangCapNhat = [...state.gioHang];\n//          let index = gioHangCapNhat.findIndex(spGH => spGH.maSP === action.spGioHang.maSP);\n//          if(index!==-1){\n//              gioHangCapNhat[index].soLuong +=1;\n//          }else {\n//              gioHangCapNhat.push(action.spGioHang);\n//          }\n//          state.gioHang = gioHangCapNhat;\n//          return {...state};\n//         }\n//         case 'XOA_GIO_HANG': {\n//             let gioHangCapNhat = [...state.gioHang]\n//             //xóa giỏ hàng dựa vào index\n//             gioHangCapNhat.splice(action.index, 1);\n//             // gán giỏ hàng mới cho state để render lại giao diện\n//             state.gioHang = gioHangCapNhat\n//             return {...state}\n//         }\n//         case 'TANG_GIAM_SL': {\n//             let gioHangCapNhat = [...state.gioHang]\n//             const {index,tangGiam} = action\n//             if(tangGiam) {\n//                 gioHangCapNhat[index].soLuong += 1;\n//             }else {\n//                 if(gioHangCapNhat[index].soLuong >1){\n//                     gioHangCapNhat[index].soLuong -= 1\n//                 }\n//             }\n//             state.gioHang = gioHangCapNhat\n//             return{...state}\n//         }\n//     }\n//     return {...state}\n// }\nvar stateGioHang={gioHang:[{maSP:1,hinhAnh:'./img/sp_iphoneX.png',soLuong:1,tenSP:'iphone',giaBan:1000,thanhTien:1000}]};export var GioHangReducer=function GioHangReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:stateGioHang;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'THEM_GIO_HANG':{// xử lý logic thêm giỏ hàng\nvar gioHangCapNhat=_toConsumableArray(state.gioHang);var index=gioHangCapNhat.findIndex(function(spGH){return spGH.maSP===action.sanPhamGioHang.maSP;});if(index!==-1){gioHangCapNhat[index].soLuong+=1;}else{gioHangCapNhat.push(action.sanPhamGioHang);}state.gioHang=gioHangCapNhat;return _objectSpread({},state);}case'XOA_GIO_HANG':{var _gioHangCapNhat=_toConsumableArray(state.gioHang);// xóa giỏ hàng dựa vào index\n_gioHangCapNhat.splice(action.index,1);state.gioHang=_gioHangCapNhat;return _objectSpread({},state);};case'TANG_GIAM':{var _index=action.index,tangGiam=action.tangGiam;var _gioHangCapNhat2=_toConsumableArray(state.gioHang);if(tangGiam===-1){if(_gioHangCapNhat2[_index].soLuong>1)_gioHangCapNhat2[_index].soLuong-=1;}else{_gioHangCapNhat2[_index].soLuong+=1;}state.gioHang=_gioHangCapNhat2;return _objectSpread({},state);}default:break;}return _objectSpread({},state);};","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/redux/reducer/GioHangReducer.js"],"names":["stateGioHang","gioHang","maSP","hinhAnh","soLuong","tenSP","giaBan","thanhTien","GioHangReducer","state","action","type","gioHangCapNhat","index","findIndex","spGH","sanPhamGioHang","push","splice","tangGiam"],"mappings":"qWAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA,GAAMA,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,CAAC,CAACC,IAAI,CAAE,CAAP,CAAUC,OAAO,CAAC,sBAAlB,CAA0CC,OAAO,CAAE,CAAnD,CAAsDC,KAAK,CAAE,QAA7D,CAAuEC,MAAM,CAAC,IAA9E,CAAoFC,SAAS,CAAE,IAA/F,CAAD,CADQ,CAArB,CAGA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBT,YAAyB,IAAXU,CAAAA,MAAW,2CAC5D,OAAQA,MAAM,CAACC,IAAf,EAEI,IAAK,eAAL,CAAqB,CACjB;AACA,GAAIC,CAAAA,cAAc,oBAAOH,KAAK,CAACR,OAAb,CAAlB,CACA,GAAIY,CAAAA,KAAK,CAAGD,cAAc,CAACE,SAAf,CAAyB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACb,IAAL,GAAaQ,MAAM,CAACM,cAAP,CAAsBd,IAAvC,EAA7B,CAAZ,CACA,GAAGW,KAAK,GAAI,CAAC,CAAb,CAAe,CACXD,cAAc,CAACC,KAAD,CAAd,CAAsBT,OAAtB,EAAiC,CAAjC,CACH,CAFD,IAGK,CACDQ,cAAc,CAACK,IAAf,CAAoBP,MAAM,CAACM,cAA3B,EACH,CACDP,KAAK,CAACR,OAAN,CAAgBW,cAAhB,CACA,wBAAWH,KAAX,EACH,CACD,IAAK,cAAL,CAAqB,CAEjB,GAAIG,CAAAA,eAAc,oBAAOH,KAAK,CAACR,OAAb,CAAlB,CACA;AACAW,eAAc,CAACM,MAAf,CAAsBR,MAAM,CAACG,KAA7B,CAAmC,CAAnC,EACAJ,KAAK,CAACR,OAAN,CAAgBW,eAAhB,CACA,wBAAWH,KAAX,EAEH,EACD,IAAK,WAAL,CAAkB,IACPI,CAAAA,MADO,CACWH,MADX,CACPG,KADO,CACDM,QADC,CACWT,MADX,CACDS,QADC,CAEd,GAAIP,CAAAA,gBAAc,oBAAOH,KAAK,CAACR,OAAb,CAAlB,CACA,GAAGkB,QAAQ,GAAI,CAAC,CAAhB,CAAmB,CACf,GAAIP,gBAAc,CAACC,MAAD,CAAd,CAAsBT,OAAtB,CAA8B,CAAlC,CACAQ,gBAAc,CAACC,MAAD,CAAd,CAAsBT,OAAtB,EAAgC,CAAhC,CACH,CAHD,IAGK,CACDQ,gBAAc,CAACC,MAAD,CAAd,CAAsBT,OAAtB,EAAiC,CAAjC,CACH,CACDK,KAAK,CAACR,OAAN,CAAgBW,gBAAhB,CACA,wBAAWH,KAAX,EACH,CAKD,QACI,MAzCR,CA2CA,wBAAWA,KAAX,EACH,CA7CM","sourcesContent":["// // khởi tạo giá trị ban đầu\r\n// const stateGioHang = {\r\n//     gioHang : [{maSP: 1, tenSP: \"iphone\", soLuong: 1, hinhAnh: './img/applephone.jpg', giaBan: 1000,thanhTien: 1000}]\r\n// }\r\n\r\n// export const GioHangReducer = (state = stateGioHang, action) => {\r\n//     switch (action.type) {\r\n//         case 'THEM_GIO_HANG':{\r\n//          // xử lý logic thêm giỏ hàng\r\n//          let gioHangCapNhat = [...state.gioHang];\r\n//          let index = gioHangCapNhat.findIndex(spGH => spGH.maSP === action.spGioHang.maSP);\r\n//          if(index!==-1){\r\n//              gioHangCapNhat[index].soLuong +=1;\r\n//          }else {\r\n//              gioHangCapNhat.push(action.spGioHang);\r\n//          }\r\n//          state.gioHang = gioHangCapNhat;\r\n//          return {...state};\r\n//         }\r\n//         case 'XOA_GIO_HANG': {\r\n//             let gioHangCapNhat = [...state.gioHang]\r\n//             //xóa giỏ hàng dựa vào index\r\n//             gioHangCapNhat.splice(action.index, 1);\r\n//             // gán giỏ hàng mới cho state để render lại giao diện\r\n//             state.gioHang = gioHangCapNhat\r\n//             return {...state}\r\n//         }\r\n//         case 'TANG_GIAM_SL': {\r\n//             let gioHangCapNhat = [...state.gioHang]\r\n//             const {index,tangGiam} = action\r\n//             if(tangGiam) {\r\n//                 gioHangCapNhat[index].soLuong += 1;\r\n//             }else {\r\n//                 if(gioHangCapNhat[index].soLuong >1){\r\n//                     gioHangCapNhat[index].soLuong -= 1\r\n//                 }\r\n                \r\n//             }\r\n//             state.gioHang = gioHangCapNhat\r\n//             return{...state}\r\n//         }\r\n            \r\n            \r\n    \r\n       \r\n//     }\r\n//     return {...state}\r\n// }\r\n\r\nconst stateGioHang = {\r\n    gioHang: [{maSP: 1, hinhAnh:'./img/sp_iphoneX.png', soLuong: 1, tenSP: 'iphone', giaBan:1000, thanhTien: 1000}]\r\n}\r\nexport const GioHangReducer = (state = stateGioHang, action) => {\r\n    switch (action.type) {\r\n        \r\n        case 'THEM_GIO_HANG':{\r\n            // xử lý logic thêm giỏ hàng\r\n            let gioHangCapNhat = [...state.gioHang];\r\n            let index = gioHangCapNhat.findIndex(spGH => spGH.maSP ===action.sanPhamGioHang.maSP);\r\n            if(index !==-1){\r\n                gioHangCapNhat[index].soLuong += 1;\r\n            }\r\n            else {\r\n                gioHangCapNhat.push(action.sanPhamGioHang)\r\n            }\r\n            state.gioHang = gioHangCapNhat;\r\n            return {...state}\r\n        }\r\n        case 'XOA_GIO_HANG': {\r\n            \r\n            let gioHangCapNhat = [...state.gioHang];\r\n            // xóa giỏ hàng dựa vào index\r\n            gioHangCapNhat.splice(action.index,1)\r\n            state.gioHang = gioHangCapNhat;\r\n            return {...state};\r\n        \r\n        };\r\n        case 'TANG_GIAM': {\r\n            const {index,tangGiam} = action;\r\n            let gioHangCapNhat = [...state.gioHang];\r\n            if(tangGiam ===-1 ){\r\n                if( gioHangCapNhat[index].soLuong>1)\r\n                gioHangCapNhat[index].soLuong -=1;\r\n            }else{\r\n                gioHangCapNhat[index].soLuong += 1;\r\n            }\r\n            state.gioHang = gioHangCapNhat;\r\n            return {...state}\r\n        }\r\n\r\n            \r\n            \r\n    \r\n        default:\r\n            break;\r\n    }\r\n    return {...state}\r\n}"]},"metadata":{},"sourceType":"module"}