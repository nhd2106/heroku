{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { TANG_CUOC, GIAM_CUOC, CHOI_GAME } from \"../constants/GameBauCua\";\nconst mangXucXac = [{\n  ma: \"bau\",\n  hinhAnh: \"img/bau.png\"\n}, {\n  ma: \"cua\",\n  hinhAnh: \"img/cua.png\"\n}, {\n  ma: \"tom\",\n  hinhAnh: \"img/tom.png\"\n}, {\n  ma: \"ca\",\n  hinhAnh: \"img/ca.png\"\n}, {\n  ma: \"nai\",\n  hinhAnh: \"img/nai.png\"\n}, {\n  ma: \"ga\",\n  hinhAnh: \"img/ga.png\"\n}];\nconst initialValues = {\n  tongTien: 100,\n  danhSachCuoc: [{\n    ma: \"bau\",\n    hinhAnh: \"img/bau.png\",\n    diemCuoc: 0\n  }, {\n    ma: \"cua\",\n    hinhAnh: \"img/cua.png\",\n    diemCuoc: 0\n  }, {\n    ma: \"tom\",\n    hinhAnh: \"img/tom.png\",\n    diemCuoc: 0\n  }, {\n    ma: \"ca\",\n    hinhAnh: \"img/ca.png\",\n    diemCuoc: 0\n  }, {\n    ma: \"nai\",\n    hinhAnh: \"img/nai.png\",\n    diemCuoc: 0\n  }, {\n    ma: \"ga\",\n    hinhAnh: \"img/ga.png\",\n    diemCuoc: 0\n  }],\n  xucXac: [{\n    ma: \"bau\",\n    hinhAnh: \"img/bau.png\"\n  }, {\n    ma: \"bau\",\n    hinhAnh: \"img/bau.png\"\n  }, {\n    ma: \"bau\",\n    hinhAnh: \"img/bau.png\"\n  }]\n};\n\nconst gameBauCuaReducer = (state = initialValues, action) => {\n  switch (action.type) {\n    case TANG_CUOC:\n      {\n        const danhSachCuoc = [...state.danhSachCuoc];\n        const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n\n        if (index !== -1) {\n          if (state.tongTien > 0) {\n            state.tongTien -= 10;\n            danhSachCuoc[index].diemCuoc += 10;\n          }\n        }\n\n        return _objectSpread({}, state, {\n          danhSachCuoc\n        });\n      }\n\n    case GIAM_CUOC:\n      {\n        const danhSachCuoc = [...state.danhSachCuoc];\n        const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n\n        if (index !== -1) {\n          if (danhSachCuoc[index].diemCuoc > 0) {\n            state.tongTien += 10;\n            danhSachCuoc[index].diemCuoc -= 10;\n          }\n        }\n\n        return _objectSpread({}, state, {\n          danhSachCuoc\n        });\n      }\n\n    case CHOI_GAME:\n      {\n        let xucXac = [];\n\n        for (let i = 1; i <= 3; i++) {\n          // Min: 0, Max: 5\n          const random = Math.floor(Math.random() * (5 - 0 + 1)) + 0;\n          xucXac.push(mangXucXac[random]);\n        }\n\n        const danhSachDatCuoc = state.danhSachCuoc.filter(item => item.diemCuoc > 0); // Xử lý trả lại tiền đặt cược\n\n        for (let item of danhSachDatCuoc) {\n          const xucXacTimThay = xucXac.find(xucXac => xucXac.ma === item.ma);\n\n          if (xucXacTimThay) {\n            state.tongTien += item.diemCuoc;\n          }\n        } // Xử lý trả tiền thắng cược\n\n\n        for (let item of xucXac) {\n          const cuoc = danhSachDatCuoc.find(cuoc => cuoc.ma === item.ma);\n\n          if (cuoc) {\n            state.tongTien += cuoc.diemCuoc;\n          }\n        } // Reset lại điểm cược\n\n\n        const danhSachCuoc = state.danhSachCuoc.map(item => _objectSpread({}, item, {\n          diemCuoc: 0\n        }));\n        return _objectSpread({}, state, {\n          xucXac,\n          danhSachCuoc\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default gameBauCuaReducer;","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/redux/reducer/GameBauCua.js"],"names":["TANG_CUOC","GIAM_CUOC","CHOI_GAME","mangXucXac","ma","hinhAnh","initialValues","tongTien","danhSachCuoc","diemCuoc","xucXac","gameBauCuaReducer","state","action","type","index","findIndex","item","data","i","random","Math","floor","push","danhSachDatCuoc","filter","xucXacTimThay","find","cuoc","map"],"mappings":"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","sourcesContent":["import { TANG_CUOC, GIAM_CUOC, CHOI_GAME } from \"../constants/GameBauCua\";\n\nconst mangXucXac = [\n  { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n  { ma: \"cua\", hinhAnh: \"img/cua.png\" },\n  { ma: \"tom\", hinhAnh: \"img/tom.png\" },\n  { ma: \"ca\", hinhAnh: \"img/ca.png\" },\n  { ma: \"nai\", hinhAnh: \"img/nai.png\" },\n  { ma: \"ga\", hinhAnh: \"img/ga.png\" }\n];\n\nconst initialValues = {\n  tongTien: 100,\n  danhSachCuoc: [\n    { ma: \"bau\", hinhAnh: \"img/bau.png\", diemCuoc: 0 },\n    { ma: \"cua\", hinhAnh: \"img/cua.png\", diemCuoc: 0 },\n    { ma: \"tom\", hinhAnh: \"img/tom.png\", diemCuoc: 0 },\n    { ma: \"ca\", hinhAnh: \"img/ca.png\", diemCuoc: 0 },\n    { ma: \"nai\", hinhAnh: \"img/nai.png\", diemCuoc: 0 },\n    { ma: \"ga\", hinhAnh: \"img/ga.png\", diemCuoc: 0 }\n  ],\n  xucXac: [\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" }\n  ]\n};\n\nconst gameBauCuaReducer = (state = initialValues, action) => {\n  switch (action.type) {\n    case TANG_CUOC: {\n      const danhSachCuoc = [...state.danhSachCuoc];\n      const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n      if (index !== -1) {\n        if (state.tongTien > 0) {\n          state.tongTien -= 10;\n          danhSachCuoc[index].diemCuoc += 10;\n        }\n      }\n      return { ...state, danhSachCuoc };\n    }\n    case GIAM_CUOC: {\n      const danhSachCuoc = [...state.danhSachCuoc];\n      const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n      if (index !== -1) {\n        if (danhSachCuoc[index].diemCuoc > 0) {\n          state.tongTien += 10;\n          danhSachCuoc[index].diemCuoc -= 10;\n        }\n      }\n      return { ...state, danhSachCuoc };\n    }\n    case CHOI_GAME: {\n      let xucXac = [];\n      for (let i = 1; i <= 3; i++) {\n        // Min: 0, Max: 5\n        const random = Math.floor(Math.random() * (5 - 0 + 1)) + 0;\n        xucXac.push(mangXucXac[random]);\n      }\n      const danhSachDatCuoc = state.danhSachCuoc.filter(\n        item => item.diemCuoc > 0\n      );\n      // Xử lý trả lại tiền đặt cược\n      for (let item of danhSachDatCuoc) {\n        const xucXacTimThay = xucXac.find(xucXac => xucXac.ma === item.ma);\n        if (xucXacTimThay) {\n          state.tongTien += item.diemCuoc;\n        }\n      }\n      // Xử lý trả tiền thắng cược\n      for (let item of xucXac) {\n        const cuoc = danhSachDatCuoc.find(cuoc => cuoc.ma === item.ma);\n        if (cuoc) {\n          state.tongTien += cuoc.diemCuoc;\n        }\n      }\n\n      // Reset lại điểm cược\n      const danhSachCuoc = state.danhSachCuoc.map(item => ({\n        ...item,\n        diemCuoc: 0\n      }));\n\n      return {\n        ...state,\n        xucXac,\n        danhSachCuoc\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default gameBauCuaReducer;\n"]},"metadata":{},"sourceType":"module"}