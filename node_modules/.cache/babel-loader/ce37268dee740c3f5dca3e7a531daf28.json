{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";// import React, { Component } from 'react'\n// import { connect } from \"react-redux\";\n// class FormSinhVien extends Component {\n//     state = {\n//         values: {\n//             maSV: '',\n//             hoTen: '',\n//             email: '',\n//             sdt: ''\n//         },\n//         errors: {\n//             maSV: '',\n//             hoTen: '',\n//             email: '',\n//             sdt: ''\n//         }\n//     }\n//     handleChange = (e) => {\n//         let tagInput = e.target;\n//         let { name, value, type } = tagInput;\n//         let errorMessage = '';\n//         if(value.trim()==='') {// bất kể control nào người dùng nhập vào đều kiểm tra rỗng\n//             errorMessage = name + ' Không được bỏ trống'\n//         }\n//         //kiểm tra email\n//         if(type === 'email'){\n//             const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n//             if(!regex.test(value)){\n//                 errorMessage = name + ' không đúng định dạng    '\n//             }\n//         }\n//         let values = {...this.state.values,[name]:value};\n//         let errors = {...this.state.errors, [name]:errorMessage};\n//         this.setState({\n//             values: values,\n//             errors: errors\n//         })\n//         // this.setState({\n//         //     [name]: value\n//         // }, () => {\n//         //     console.log(this.state);\n//         // })\n//     }\n//     handleSubmit = (e) => {\n//         e.preventDefault(); // cản sự kiện load lại trang\n//         this.props.themSinhVien(this.state)\n//     }\n//     render() {\n//         return (\n//             <div className='container'>\n//                 <h3 className='bg-dark text-white text-center'>Thông tin sinh viên</h3>\n//                 <form onSubmit={this.handleSubmit} >\n//                     <div className='row'>\n//                         <div className='col-6'>\n//                             <div className=\"form-group\">\n//                                 <label >Mã SV</label>\n//                                 <input type=\"text\" className=\"form-control\" name='maSV' value={this.state.values.maSV} onChange={this.handleChange} placeholder />\n//                                 <p className='text-danger'>\n//                                     {this.state.errors.maSV}\n//                                 </p>\n//                             </div>\n//                             <div className=\"form-group\">\n//                                 <label >Số điện thoại</label>\n//                                 <input type=\"text\" className=\"form-control\" name='sdt' value={this.state.values.sdt} onChange={this.handleChange} placeholder />\n//                                 <p className='text-danger'>\n//                                     {this.state.errors.sdt}\n//                                 </p>\n//                             </div>\n//                         </div>\n//                         <div className='col-6'>\n//                             <div className=\"form-group\">\n//                                 <label >Họ tên</label>\n//                                 <input type=\"text\" className=\"form-control\" name='hoTen' value={this.state.values.hoTen} onChange={this.handleChange} placeholder />\n//                                 <p className='text-danger'>\n//                                     {this.state.errors.hoTen}\n//                                 </p>\n//                             </div>\n//                             <div className=\"form-group\">\n//                                 <label >Email</label>\n//                                 <input type=\"email\" className=\"form-control\" name='email' value={this.state.values.email} onChange={this.handleChange} placeholder />\n//                                 <p className='text-danger'>\n//                                     {this.state.errors.email}\n//                                 </p>\n//                             </div>\n//                         </div>\n//                     </div>\n//                     <div className='text-right'><button type='submit' className='btn btn-success'>Submit</button></div>\n//                 </form>\n//             </div>\n//         )\n//     }\n// }\n// const mapDispatchToProps = (dispatch) => {\n//     return {\n//         themSinhVien: (sinhVien) => {\n//             const action = {\n//                 type: 'THEM_SINH_VIEN',\n//                 sinhVien\n//             }\n//             dispatch(action)\n//         }\n//     }\n// }\n// export default connect(null, mapDispatchToProps)(FormSinhVien)\nimport React,{Component}from\"react\";import{connect}from\"react-redux\";var FormSinhVien=/*#__PURE__*/function(_Component){_inherits(FormSinhVien,_Component);function FormSinhVien(){var _getPrototypeOf2;var _this;_classCallCheck(this,FormSinhVien);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(FormSinhVien)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={values:{maSV:'',tenSV:'',sdt:'',email:''},errors:{maSV:'',tenSV:'',sdt:'',email:''},valid:false};_this.handleOnchange=function(e){// lấy giá trị mỗi lận value input thay đổi bởi người dùng\nvar tagInput=e.target;var name=tagInput.name,value=tagInput.value,type=tagInput.type;var errorMessage='';//Kiểm tra rổng\nif(value.trim()===''){// kiểm tra bất kỳ input nào người dùng nhập vào điều kiểm tra\nerrorMessage=name+' không được bỏ trống';}// kiểm tra email\nif(type==='email'){var regex=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(!regex.test(value)){errorMessage=name+' không đúng định dạng';}}var values=_objectSpread({},_this.state.values,_defineProperty({},name,value));// cập giá trị value cho state\nvar errors=_objectSpread({},_this.state.errors,_defineProperty({},name,errorMessage));// cập nhật lỗi cho state  \n_this.setState(_objectSpread({},_this.state,{values:values,errors:errors}),function(){console.log(_this.state);_this.checkValidButton();});// this.setState({\n//     [name]: value\n// }, ()=>{console.log(this.state);\n// })\n};_this.handleSubmit=function(e){e.preventDefault();// cản sự kiện load lại trang của browser\n_this.props.themSinhVien(_this.state.values);};_this.checkValidButton=function(){var valid=true;for(var key in _this.state.errors){if(_this.state.errors[key]!==''||_this.state.values[key]===''){valid=false;}}_this.setState(_objectSpread({},_this.state,{valid:valid}));};return _this;}_createClass(FormSinhVien,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"card text-left\"},React.createElement(\"div\",{className:\"card-header bg-dark text-center text-white\"},React.createElement(\"h3\",null,\"Th\\xF4ng tin sinh vi\\xEAn\")),React.createElement(\"div\",{className:\"card-body\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"form-group col-6\"},React.createElement(\"label\",null,\"M\\xE3 sinh vi\\xEAn\"),React.createElement(\"input\",{className:\"form-control\",name:\"maSV\",value:this.state.values.maSV,onChange:this.handleOnchange}),React.createElement(\"p\",{className:\"text-danger\"},this.state.errors.maSV)),React.createElement(\"div\",{className:\"form-group col-6\"},React.createElement(\"label\",null,\"T\\xEAn sinh vi\\xEAn\"),React.createElement(\"input\",{className:\"form-control\",name:\"tenSV\",value:this.state.values.tenSV,onChange:this.handleOnchange}),React.createElement(\"p\",{className:\"text-danger\"},this.state.errors.tenSV))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"form-group col-6\"},React.createElement(\"label\",null,\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"),React.createElement(\"input\",{className:\"form-control\",name:\"sdt\",value:this.state.values.sdt,onChange:this.handleOnchange}),React.createElement(\"p\",{className:\"text-danger\"},this.state.errors.sdt)),React.createElement(\"div\",{className:\"form-group col-6\"},React.createElement(\"label\",null,\"Email\"),React.createElement(\"input\",{className:\"form-control\",type:\"email\",name:\"email\",value:this.state.values.email,onChange:this.handleOnchange}),React.createElement(\"p\",{className:\"text-danger\"},this.state.errors.email))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-12 text-right\"},this.state.valid?React.createElement(\"button\",{className:\"btn btn-success\",type:\"submit\"},\"Th\\xEAm sinh vi\\xEAn\"):React.createElement(\"button\",{className:\"btn btn-success\",type:\"submit\",disabled:true},\"Th\\xEAm sinh vi\\xEAn\")))))));}}]);return FormSinhVien;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{themSinhVien:function themSinhVien(sinhVien){var action={type:'THEM_SINH_VIEN',sinhVien:sinhVien};dispatch(action);}};};export default connect(null,mapDispatchToProps)(FormSinhVien);","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/BaiTapForm/FormSinhVien.js"],"names":["React","Component","connect","FormSinhVien","state","values","maSV","tenSV","sdt","email","errors","valid","handleOnchange","e","tagInput","target","name","value","type","errorMessage","trim","regex","test","setState","console","log","checkValidButton","handleSubmit","preventDefault","props","themSinhVien","key","mapDispatchToProps","dispatch","sinhVien","action"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react'\r\n// import { connect } from \"react-redux\";\r\n// class FormSinhVien extends Component {\r\n//     state = {\r\n//         values: {\r\n//             maSV: '',\r\n//             hoTen: '',\r\n//             email: '',\r\n//             sdt: ''\r\n//         },\r\n//         errors: {\r\n//             maSV: '',\r\n//             hoTen: '',\r\n//             email: '',\r\n//             sdt: ''\r\n//         }\r\n//     }\r\n//     handleChange = (e) => {\r\n//         let tagInput = e.target;\r\n//         let { name, value, type } = tagInput;\r\n//         let errorMessage = '';\r\n\r\n//         if(value.trim()==='') {// bất kể control nào người dùng nhập vào đều kiểm tra rỗng\r\n//             errorMessage = name + ' Không được bỏ trống'\r\n//         }\r\n//         //kiểm tra email\r\n//         if(type === 'email'){\r\n//             const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n//             if(!regex.test(value)){\r\n//                 errorMessage = name + ' không đúng định dạng    '\r\n//             }\r\n//         }\r\n\r\n//         let values = {...this.state.values,[name]:value};\r\n//         let errors = {...this.state.errors, [name]:errorMessage};\r\n\r\n//         this.setState({\r\n//             values: values,\r\n//             errors: errors\r\n//         })\r\n\r\n//         // this.setState({\r\n//         //     [name]: value\r\n//         // }, () => {\r\n//         //     console.log(this.state);\r\n\r\n//         // })\r\n//     }\r\n//     handleSubmit = (e) => {\r\n//         e.preventDefault(); // cản sự kiện load lại trang\r\n//         this.props.themSinhVien(this.state)\r\n//     }\r\n//     render() {\r\n//         return (\r\n//             <div className='container'>\r\n//                 <h3 className='bg-dark text-white text-center'>Thông tin sinh viên</h3>\r\n//                 <form onSubmit={this.handleSubmit} >\r\n//                     <div className='row'>\r\n//                         <div className='col-6'>\r\n//                             <div className=\"form-group\">\r\n//                                 <label >Mã SV</label>\r\n//                                 <input type=\"text\" className=\"form-control\" name='maSV' value={this.state.values.maSV} onChange={this.handleChange} placeholder />\r\n//                                 <p className='text-danger'>\r\n//                                     {this.state.errors.maSV}\r\n//                                 </p>\r\n//                             </div>\r\n//                             <div className=\"form-group\">\r\n//                                 <label >Số điện thoại</label>\r\n//                                 <input type=\"text\" className=\"form-control\" name='sdt' value={this.state.values.sdt} onChange={this.handleChange} placeholder />\r\n//                                 <p className='text-danger'>\r\n//                                     {this.state.errors.sdt}\r\n//                                 </p>\r\n//                             </div>\r\n//                         </div>\r\n//                         <div className='col-6'>\r\n//                             <div className=\"form-group\">\r\n//                                 <label >Họ tên</label>\r\n//                                 <input type=\"text\" className=\"form-control\" name='hoTen' value={this.state.values.hoTen} onChange={this.handleChange} placeholder />\r\n//                                 <p className='text-danger'>\r\n//                                     {this.state.errors.hoTen}\r\n//                                 </p>\r\n//                             </div>\r\n//                             <div className=\"form-group\">\r\n//                                 <label >Email</label>\r\n//                                 <input type=\"email\" className=\"form-control\" name='email' value={this.state.values.email} onChange={this.handleChange} placeholder />\r\n//                                 <p className='text-danger'>\r\n//                                     {this.state.errors.email}\r\n//                                 </p>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n\r\n//                     <div className='text-right'><button type='submit' className='btn btn-success'>Submit</button></div>\r\n//                 </form>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         themSinhVien: (sinhVien) => {\r\n//             const action = {\r\n//                 type: 'THEM_SINH_VIEN',\r\n//                 sinhVien\r\n//             }\r\n//             dispatch(action)\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export default connect(null, mapDispatchToProps)(FormSinhVien)\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nclass FormSinhVien extends Component {\r\n    \r\n    state = {\r\n        values:{\r\n            maSV:'',\r\n            tenSV:'',\r\n            sdt:'',\r\n            email:''\r\n        },\r\n        errors: {\r\n            maSV:'',\r\n            tenSV:'',\r\n            sdt:'',\r\n            email:''\r\n        },\r\n        valid: false\r\n      \r\n    }\r\n\r\n    handleOnchange = (e) =>{\r\n        // lấy giá trị mỗi lận value input thay đổi bởi người dùng\r\n      \r\n        let tagInput = e.target;\r\n        let {name, value, type} = tagInput;\r\n        let  errorMessage = '';\r\n\r\n        //Kiểm tra rổng\r\n        if(value.trim() === ''){ // kiểm tra bất kỳ input nào người dùng nhập vào điều kiểm tra\r\n            errorMessage = name + ' không được bỏ trống'\r\n        }\r\n        // kiểm tra email\r\n        if( type === 'email'){\r\n          const regex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\r\n          if(!regex.test(value)){\r\n            errorMessage = name + ' không đúng định dạng'\r\n          }\r\n        }\r\n\r\n        let values = {...this.state.values, [name]:value}; // cập giá trị value cho state\r\n        let errors = {...this.state.errors, [name]: errorMessage}; // cập nhật lỗi cho state  \r\n\r\n        this.setState({\r\n          ...this.state,\r\n          values: values,\r\n          errors : errors,\r\n          \r\n        },()=>{console.log(this.state);\r\n          this.checkValidButton();\r\n        })\r\n\r\n        // this.setState({\r\n        //     [name]: value\r\n        // }, ()=>{console.log(this.state);\r\n        // })\r\n      }\r\n        \r\n    handleSubmit = (e) => { \r\n        e.preventDefault(); // cản sự kiện load lại trang của browser\r\n        this.props.themSinhVien(this.state.values)\r\n    }\r\n    checkValidButton = () => {\r\n      let valid = true;\r\n      for(let key in this.state.errors){\r\n        if(this.state.errors[key] !=='' || this.state.values[key] === ''){\r\n          valid = false;\r\n        }\r\n      }\r\n    \r\n      this.setState({\r\n        ...this.state,\r\n        valid: valid\r\n      })\r\n      \r\n    }\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"card text-left\">\r\n          <div className=\"card-header bg-dark text-center text-white\">\r\n            <h3>Thông tin sinh viên</h3>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <form onSubmit = {this.handleSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"form-group col-6\">\r\n                  <label>Mã sinh viên</label>\r\n                  <input className=\"form-control\" name=\"maSV\" value={this.state.values.maSV} onChange ={this.handleOnchange}></input>\r\n                    <p className='text-danger'>\r\n                        {this.state.errors.maSV}\r\n                    </p>\r\n                </div>\r\n                <div className=\"form-group col-6\">\r\n                  <label>Tên sinh viên</label>\r\n                  <input className=\"form-control\" name=\"tenSV\" value={this.state.values.tenSV} onChange ={this.handleOnchange}></input>\r\n                  <p className='text-danger'>\r\n                        {this.state.errors.tenSV}\r\n                    </p>\r\n                \r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"form-group col-6\">\r\n                  <label>Số điện thoại</label>\r\n                  <input className=\"form-control\" name=\"sdt\" value={this.state.values.sdt} onChange ={this.handleOnchange}></input>\r\n                  <p className='text-danger'>\r\n                        {this.state.errors.sdt}\r\n                    </p>\r\n                </div>\r\n                <div className=\"form-group col-6\">\r\n                  <label>Email</label>\r\n                  <input className=\"form-control\" type ='email' name=\"email\" value={this.state.values.email} onChange ={this.handleOnchange}></input>\r\n                  <p className='text-danger'>\r\n                        {this.state.errors.email}\r\n                    </p>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n                    <div className='col-12 text-right'>\r\n                     {this.state.valid ? <button className='btn btn-success' type ='submit' >Thêm sinh viên</button>:<button className='btn btn-success' type ='submit' disabled >Thêm sinh viên</button> }\r\n                    \r\n                    </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        themSinhVien: (sinhVien) => {\r\n            const action = {\r\n                type: 'THEM_SINH_VIEN',\r\n                sinhVien\r\n            }\r\n            dispatch(action)\r\n        }\r\n    }\r\n}\r\nexport default connect(null,mapDispatchToProps)(FormSinhVien);\r\n"]},"metadata":{},"sourceType":"module"}