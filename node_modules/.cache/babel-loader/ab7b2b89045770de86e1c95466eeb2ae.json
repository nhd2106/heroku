{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import{TANG_CUOC,GIAM_CUOC,CHOI_GAME}from\"../constants/GameBauCua\";var mangXucXac=[{ma:\"bau\",hinhAnh:\"img/bau.png\"},{ma:\"cua\",hinhAnh:\"img/cua.png\"},{ma:\"tom\",hinhAnh:\"img/tom.png\"},{ma:\"ca\",hinhAnh:\"img/ca.png\"},{ma:\"nai\",hinhAnh:\"img/nai.png\"},{ma:\"ga\",hinhAnh:\"img/ga.png\"}];var initialValues={tongTien:100,danhSachCuoc:[{ma:\"bau\",hinhAnh:\"img/bau.png\",diemCuoc:0},{ma:\"cua\",hinhAnh:\"img/cua.png\",diemCuoc:0},{ma:\"tom\",hinhAnh:\"img/tom.png\",diemCuoc:0},{ma:\"ca\",hinhAnh:\"img/ca.png\",diemCuoc:0},{ma:\"nai\",hinhAnh:\"img/nai.png\",diemCuoc:0},{ma:\"ga\",hinhAnh:\"img/ga.png\",diemCuoc:0}],xucXac:[{ma:\"bau\",hinhAnh:\"img/bau.png\"},{ma:\"bau\",hinhAnh:\"img/bau.png\"},{ma:\"bau\",hinhAnh:\"img/bau.png\"}]};var gameBauCuaReducer=function gameBauCuaReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialValues;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case TANG_CUOC:{var danhSachCuoc=_toConsumableArray(state.danhSachCuoc);var index=danhSachCuoc.findIndex(function(item){return item.ma===action.data;});if(index!==-1){if(state.tongTien>0){state.tongTien-=10;danhSachCuoc[index].diemCuoc+=10;}}return _objectSpread({},state,{danhSachCuoc:danhSachCuoc});}case GIAM_CUOC:{var _danhSachCuoc=_toConsumableArray(state.danhSachCuoc);var _index=_danhSachCuoc.findIndex(function(item){return item.ma===action.data;});if(_index!==-1){if(_danhSachCuoc[_index].diemCuoc>0){state.tongTien+=10;_danhSachCuoc[_index].diemCuoc-=10;}}return _objectSpread({},state,{danhSachCuoc:_danhSachCuoc});}case CHOI_GAME:{var xucXac=[];for(var i=1;i<=3;i++){// Min: 0, Max: 5\nvar random=Math.floor(Math.random()*(5-0+1))+0;xucXac.push(mangXucXac[random]);}var danhSachDatCuoc=state.danhSachCuoc.filter(function(item){return item.diemCuoc>0;});// Xử lý trả lại tiền đặt cược\nvar _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{var _loop=function _loop(){var item=_step.value;var xucXacTimThay=xucXac.find(function(xucXac){return xucXac.ma===item.ma;});if(xucXacTimThay){state.tongTien+=item.diemCuoc;}};for(var _iterator=danhSachDatCuoc[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){_loop();}// Xử lý trả tiền thắng cược\n}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}var _loop2=function _loop2(){var item=_xucXac[_i];var cuoc=danhSachDatCuoc.find(function(cuoc){return cuoc.ma===item.ma;});if(cuoc){state.tongTien+=cuoc.diemCuoc;}};for(var _i=0,_xucXac=xucXac;_i<_xucXac.length;_i++){_loop2();}// Reset lại điểm cược\nvar _danhSachCuoc2=state.danhSachCuoc.map(function(item){return _objectSpread({},item,{diemCuoc:0});});return _objectSpread({},state,{xucXac:xucXac,danhSachCuoc:_danhSachCuoc2});}default:return state;}};export default gameBauCuaReducer;","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/redux/reducer/GameBauCua.js"],"names":["TANG_CUOC","GIAM_CUOC","CHOI_GAME","mangXucXac","ma","hinhAnh","initialValues","tongTien","danhSachCuoc","diemCuoc","xucXac","gameBauCuaReducer","state","action","type","index","findIndex","item","data","i","random","Math","floor","push","danhSachDatCuoc","filter","xucXacTimThay","find","cuoc","map"],"mappings":"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","sourcesContent":["import { TANG_CUOC, GIAM_CUOC, CHOI_GAME } from \"../constants/GameBauCua\";\n\nconst mangXucXac = [\n  { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n  { ma: \"cua\", hinhAnh: \"img/cua.png\" },\n  { ma: \"tom\", hinhAnh: \"img/tom.png\" },\n  { ma: \"ca\", hinhAnh: \"img/ca.png\" },\n  { ma: \"nai\", hinhAnh: \"img/nai.png\" },\n  { ma: \"ga\", hinhAnh: \"img/ga.png\" }\n];\n\nconst initialValues = {\n  tongTien: 100,\n  danhSachCuoc: [\n    { ma: \"bau\", hinhAnh: \"img/bau.png\", diemCuoc: 0 },\n    { ma: \"cua\", hinhAnh: \"img/cua.png\", diemCuoc: 0 },\n    { ma: \"tom\", hinhAnh: \"img/tom.png\", diemCuoc: 0 },\n    { ma: \"ca\", hinhAnh: \"img/ca.png\", diemCuoc: 0 },\n    { ma: \"nai\", hinhAnh: \"img/nai.png\", diemCuoc: 0 },\n    { ma: \"ga\", hinhAnh: \"img/ga.png\", diemCuoc: 0 }\n  ],\n  xucXac: [\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" },\n    { ma: \"bau\", hinhAnh: \"img/bau.png\" }\n  ]\n};\n\nconst gameBauCuaReducer = (state = initialValues, action) => {\n  switch (action.type) {\n    case TANG_CUOC: {\n      const danhSachCuoc = [...state.danhSachCuoc];\n      const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n      if (index !== -1) {\n        if (state.tongTien > 0) {\n          state.tongTien -= 10;\n          danhSachCuoc[index].diemCuoc += 10;\n        }\n      }\n      return { ...state, danhSachCuoc };\n    }\n    case GIAM_CUOC: {\n      const danhSachCuoc = [...state.danhSachCuoc];\n      const index = danhSachCuoc.findIndex(item => item.ma === action.data);\n      if (index !== -1) {\n        if (danhSachCuoc[index].diemCuoc > 0) {\n          state.tongTien += 10;\n          danhSachCuoc[index].diemCuoc -= 10;\n        }\n      }\n      return { ...state, danhSachCuoc };\n    }\n    case CHOI_GAME: {\n      let xucXac = [];\n      for (let i = 1; i <= 3; i++) {\n        // Min: 0, Max: 5\n        const random = Math.floor(Math.random() * (5 - 0 + 1)) + 0;\n        xucXac.push(mangXucXac[random]);\n      }\n      const danhSachDatCuoc = state.danhSachCuoc.filter(\n        item => item.diemCuoc > 0\n      );\n      // Xử lý trả lại tiền đặt cược\n      for (let item of danhSachDatCuoc) {\n        const xucXacTimThay = xucXac.find(xucXac => xucXac.ma === item.ma);\n        if (xucXacTimThay) {\n          state.tongTien += item.diemCuoc;\n        }\n      }\n      // Xử lý trả tiền thắng cược\n      for (let item of xucXac) {\n        const cuoc = danhSachDatCuoc.find(cuoc => cuoc.ma === item.ma);\n        if (cuoc) {\n          state.tongTien += cuoc.diemCuoc;\n        }\n      }\n\n      // Reset lại điểm cược\n      const danhSachCuoc = state.danhSachCuoc.map(item => ({\n        ...item,\n        diemCuoc: 0\n      }));\n\n      return {\n        ...state,\n        xucXac,\n        danhSachCuoc\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default gameBauCuaReducer;\n"]},"metadata":{},"sourceType":"module"}