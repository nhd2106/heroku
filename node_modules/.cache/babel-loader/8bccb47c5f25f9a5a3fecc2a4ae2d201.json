{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport axios from \"../../utils/axios\";\nimport { LAY_THONG_TIN_NGUOI_DUNG } from \"../constants/QuanLyNguoiDung\";\nexport const dangKyAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios.request({\n      method: \"POST\",\n      url: \"QuanLyNguoiDung/DangKy\",\n      data: _objectSpread({}, values, {\n        maNhom: \"GP01\"\n      })\n    }).then(result => {\n      // Dispatch action gửi data vào store\n      // dispatch(layThongTinNguoiDung(result.data));\n      // Khi gọi hàm handleSuccess, hàm callback bên component sẽ đc chạy\n      handleSuccess();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n};\nexport const dangNhapAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios.request({\n      method: \"POST\",\n      url: \"QuanLyNguoiDung/DangNhap\",\n      data: values\n    }).then(result => {\n      // Lưu xuống localstore để giữ lại trạng thái đăng nhập khi refresh page\n      localStorage.setItem(\"userInfo\", JSON.stringify(result.data));\n      dispatch(layThongTinNguoiDung(result.data));\n      handleSuccess();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n};\nexport const layThongTinNguoiDung = nguoiDung => {\n  return {\n    type: LAY_THONG_TIN_NGUOI_DUNG,\n    data: nguoiDung\n  };\n};","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/redux/actions/QuanLyNguoiDung.js"],"names":["axios","LAY_THONG_TIN_NGUOI_DUNG","dangKyAction","values","handleSuccess","dispatch","request","method","url","data","maNhom","then","result","catch","error","console","log","dangNhapAction","localStorage","setItem","JSON","stringify","layThongTinNguoiDung","nguoiDung","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,SAASC,wBAAT,QAAyC,8BAAzC;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,MAAD,EAASC,aAAT,KAA2B;AACrD,SAAOC,QAAQ,IAAI;AACjBL,IAAAA,KAAK,CACFM,OADH,CACW;AACPC,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,GAAG,EAAE,wBAFE;AAGPC,MAAAA,IAAI,oBAAON,MAAP;AAAeO,QAAAA,MAAM,EAAE;AAAvB;AAHG,KADX,EAMGC,IANH,CAMQC,MAAM,IAAI;AACd;AACA;AAEA;AACAR,MAAAA,aAAa;AACd,KAZH,EAaGS,KAbH,CAaSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAfH;AAgBD,GAjBD;AAkBD,CAnBM;AAqBP,OAAO,MAAMG,cAAc,GAAG,CAACd,MAAD,EAASC,aAAT,KAA2B;AACvD,SAAOC,QAAQ,IAAI;AACjBL,IAAAA,KAAK,CACFM,OADH,CACW;AACPC,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,GAAG,EAAE,0BAFE;AAGPC,MAAAA,IAAI,EAAEN;AAHC,KADX,EAMGQ,IANH,CAMQC,MAAM,IAAI;AACd;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeT,MAAM,CAACH,IAAtB,CAAjC;AACAJ,MAAAA,QAAQ,CAACiB,oBAAoB,CAACV,MAAM,CAACH,IAAR,CAArB,CAAR;AACAL,MAAAA,aAAa;AACd,KAXH,EAYGS,KAZH,CAYSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAdH;AAeD,GAhBD;AAiBD,CAlBM;AAoBP,OAAO,MAAMQ,oBAAoB,GAAGC,SAAS,IAAI;AAC/C,SAAO;AACLC,IAAAA,IAAI,EAAEvB,wBADD;AAELQ,IAAAA,IAAI,EAAEc;AAFD,GAAP;AAID,CALM","sourcesContent":["import axios from \"../../utils/axios\";\nimport { LAY_THONG_TIN_NGUOI_DUNG } from \"../constants/QuanLyNguoiDung\";\n\nexport const dangKyAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios\n      .request({\n        method: \"POST\",\n        url: \"QuanLyNguoiDung/DangKy\",\n        data: { ...values, maNhom: \"GP01\" }\n      })\n      .then(result => {\n        // Dispatch action gửi data vào store\n        // dispatch(layThongTinNguoiDung(result.data));\n\n        // Khi gọi hàm handleSuccess, hàm callback bên component sẽ đc chạy\n        handleSuccess();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n};\n\nexport const dangNhapAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios\n      .request({\n        method: \"POST\",\n        url: \"QuanLyNguoiDung/DangNhap\",\n        data: values\n      })\n      .then(result => {\n        // Lưu xuống localstore để giữ lại trạng thái đăng nhập khi refresh page\n        localStorage.setItem(\"userInfo\", JSON.stringify(result.data));\n        dispatch(layThongTinNguoiDung(result.data));\n        handleSuccess();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n};\n\nexport const layThongTinNguoiDung = nguoiDung => {\n  return {\n    type: LAY_THONG_TIN_NGUOI_DUNG,\n    data: nguoiDung\n  };\n};\n"]},"metadata":{},"sourceType":"module"}