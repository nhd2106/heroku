{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import axios from\"../../utils/axios\";import{LAY_THONG_TIN_NGUOI_DUNG}from\"../constants/QuanLyNguoiDung\";export var dangKyAction=function dangKyAction(values,handleSuccess){return function(dispatch){axios.request({method:\"POST\",url:\"QuanLyNguoiDung/DangKy\",data:_objectSpread({},values,{maNhom:\"GP01\"})}).then(function(result){// Dispatch action gửi data vào store\n// dispatch(layThongTinNguoiDung(result.data));\n// Khi gọi hàm handleSuccess, hàm callback bên component sẽ đc chạy\nhandleSuccess();}).catch(function(error){console.log(error);});};};export var dangNhapAction=function dangNhapAction(values,handleSuccess){return function(dispatch){axios.request({method:\"POST\",url:\"QuanLyNguoiDung/DangNhap\",data:values}).then(function(result){// Lưu xuống localstore để giữ lại trạng thái đăng nhập khi refresh page\nlocalStorage.setItem(\"userInfo\",JSON.stringify(result.data));dispatch(layThongTinNguoiDung(result.data));handleSuccess();}).catch(function(error){console.log(error);});};};export var layThongTinNguoiDung=function layThongTinNguoiDung(nguoiDung){return{type:LAY_THONG_TIN_NGUOI_DUNG,data:nguoiDung};};","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/redux/actions/QuanLyNguoiDung.js"],"names":["axios","LAY_THONG_TIN_NGUOI_DUNG","dangKyAction","values","handleSuccess","dispatch","request","method","url","data","maNhom","then","result","catch","error","console","log","dangNhapAction","localStorage","setItem","JSON","stringify","layThongTinNguoiDung","nguoiDung","type"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,KAAkB,mBAAlB,CACA,OAASC,wBAAT,KAAyC,8BAAzC,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,MAAD,CAASC,aAAT,CAA2B,CACrD,MAAO,UAAAC,QAAQ,CAAI,CACjBL,KAAK,CACFM,OADH,CACW,CACPC,MAAM,CAAE,MADD,CAEPC,GAAG,CAAE,wBAFE,CAGPC,IAAI,kBAAON,MAAP,EAAeO,MAAM,CAAE,MAAvB,EAHG,CADX,EAMGC,IANH,CAMQ,SAAAC,MAAM,CAAI,CACd;AACA;AAEA;AACAR,aAAa,GACd,CAZH,EAaGS,KAbH,CAaS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAfH,EAgBD,CAjBD,CAkBD,CAnBM,CAqBP,MAAO,IAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACd,MAAD,CAASC,aAAT,CAA2B,CACvD,MAAO,UAAAC,QAAQ,CAAI,CACjBL,KAAK,CACFM,OADH,CACW,CACPC,MAAM,CAAE,MADD,CAEPC,GAAG,CAAE,0BAFE,CAGPC,IAAI,CAAEN,MAHC,CADX,EAMGQ,IANH,CAMQ,SAAAC,MAAM,CAAI,CACd;AACAM,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeT,MAAM,CAACH,IAAtB,CAAjC,EACAJ,QAAQ,CAACiB,oBAAoB,CAACV,MAAM,CAACH,IAAR,CAArB,CAAR,CACAL,aAAa,GACd,CAXH,EAYGS,KAZH,CAYS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAdH,EAeD,CAhBD,CAiBD,CAlBM,CAoBP,MAAO,IAAMQ,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,SAAS,CAAI,CAC/C,MAAO,CACLC,IAAI,CAAEvB,wBADD,CAELQ,IAAI,CAAEc,SAFD,CAAP,CAID,CALM","sourcesContent":["import axios from \"../../utils/axios\";\nimport { LAY_THONG_TIN_NGUOI_DUNG } from \"../constants/QuanLyNguoiDung\";\n\nexport const dangKyAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios\n      .request({\n        method: \"POST\",\n        url: \"QuanLyNguoiDung/DangKy\",\n        data: { ...values, maNhom: \"GP01\" }\n      })\n      .then(result => {\n        // Dispatch action gửi data vào store\n        // dispatch(layThongTinNguoiDung(result.data));\n\n        // Khi gọi hàm handleSuccess, hàm callback bên component sẽ đc chạy\n        handleSuccess();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n};\n\nexport const dangNhapAction = (values, handleSuccess) => {\n  return dispatch => {\n    axios\n      .request({\n        method: \"POST\",\n        url: \"QuanLyNguoiDung/DangNhap\",\n        data: values\n      })\n      .then(result => {\n        // Lưu xuống localstore để giữ lại trạng thái đăng nhập khi refresh page\n        localStorage.setItem(\"userInfo\", JSON.stringify(result.data));\n        dispatch(layThongTinNguoiDung(result.data));\n        handleSuccess();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n};\n\nexport const layThongTinNguoiDung = nguoiDung => {\n  return {\n    type: LAY_THONG_TIN_NGUOI_DUNG,\n    data: nguoiDung\n  };\n};\n"]},"metadata":{},"sourceType":"module"}