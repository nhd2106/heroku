{"ast":null,"code":"import _objectWithoutProperties from\"C:\\\\Users\\\\ngohu\\\\Desktop\\\\hoc-renderprops-15122019\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{Route,Redirect}from\"react-router-dom\";// Sử dụng HOC để override lại component Route, dùng để bảo vệ component không cho truy cập khi chưa đăng nhập\nvar UserAuth=function UserAuth(_ref){var Component=_ref.component,props=_objectWithoutProperties(_ref,[\"component\"]);return React.createElement(Route,Object.assign({},props,{// props render này sử dụng kĩ thuật render props\nrender:function render(routerProps){// routerProps là history, location, match\n// Xử lý kiểm tra xem user đã đăng nhập hay chưa\nvar userInfo=JSON.parse(localStorage.getItem(\"userInfo\"));if(userInfo){// Nhớ phải pass routerProps vào component để component có thế sử dụng 3 props history, location và match\nreturn React.createElement(Component,routerProps);}// nếu k tìm thấy user trong localstorege sẽ dùng component Redirect để chuyển vế trang login\nreturn React.createElement(Redirect,{to:\"/login\"});}}));};// Cách sử dụng: sử dụng thay thế cho component Route, xem chi tiết ở App.js\nexport default UserAuth;","map":{"version":3,"sources":["C:/Users/ngohu/Desktop/hoc-renderprops-15122019/src/Auth/UserAuth.js"],"names":["React","Route","Redirect","UserAuth","Component","component","props","routerProps","userInfo","JSON","parse","localStorage","getItem"],"mappings":"mMAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CAEA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAwC,IAA1BC,CAAAA,SAA0B,MAArCC,SAAqC,CAAZC,KAAY,8CACvD,MACE,qBAAC,KAAD,kBAEMA,KAFN,EAGE;AACA,MAAM,CAAE,gBAAAC,WAAW,CAAI,CACrB;AACA;AACA,GAAMC,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB,CACA,GAAIJ,QAAJ,CAAc,CACZ;AACA,MAAO,qBAAC,SAAD,CAAeD,WAAf,CAAP,CACD,CACD;AACA,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACD,CAdH,GADF,CAkBD,CAnBD,CAqBA;AACA,cAAeJ,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n// Sử dụng HOC để override lại component Route, dùng để bảo vệ component không cho truy cập khi chưa đăng nhập\nconst UserAuth = ({ component: Component, ...props }) => {\n  return (\n    <Route\n    \n      {...props}\n      // props render này sử dụng kĩ thuật render props\n      render={routerProps => {\n        // routerProps là history, location, match\n        // Xử lý kiểm tra xem user đã đăng nhập hay chưa\n        const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n        if (userInfo) {\n          // Nhớ phải pass routerProps vào component để component có thế sử dụng 3 props history, location và match\n          return <Component {...routerProps} />;\n        }\n        // nếu k tìm thấy user trong localstorege sẽ dùng component Redirect để chuyển vế trang login\n        return <Redirect to=\"/login\" />;\n      }}\n    />\n  );\n};\n\n// Cách sử dụng: sử dụng thay thế cho component Route, xem chi tiết ở App.js\nexport default UserAuth;\n"]},"metadata":{},"sourceType":"module"}